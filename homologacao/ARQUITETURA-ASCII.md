# ğŸ—ï¸ ARQUITETURA DE REDES ISOLADAS - AMBIENTES DEV/HOMOLOG

`
                            â˜ï¸  AZURE CLOUD - BRAZIL SOUTH
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ” Service Principal: sp-terraform-mvp-flex                                        â”‚
    â”‚  ğŸ“¦ Remote State: Storage Account 'treinamenttos'                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                          â”‚                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ğŸŸ¢ DESENVOLVIMENTO      â”‚          â”‚          â”‚   ğŸŸ¡ HOMOLOGAÃ‡ÃƒO         â”‚
    â”‚   (DEV - Custo MÃ­nimo)    â”‚    ğŸš« ISOLADO ğŸš«    â”‚   (HOMOLOG - Otimizado)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
    â”Œâ”€ Resource Group â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚           â”Œâ”€ Resource Group â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  dev-rg-min             â”‚           â”‚           â”‚  hml-rg-min             â”‚
    â”‚                         â”‚           â”‚           â”‚                         â”‚
    â”‚  â”Œâ”€ VNet â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚           â”‚  â”Œâ”€ VNet â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ dev-vnet-isolated   â”‚ â”‚           â”‚           â”‚  â”‚ hml-vnet-isolated   â”‚ â”‚
    â”‚  â”‚ 10.100.0.0/16      â”‚ â”‚           â”‚           â”‚  â”‚ 10.200.0.0/16      â”‚ â”‚
    â”‚  â”‚                    â”‚ â”‚           â”‚           â”‚  â”‚                    â”‚ â”‚
    â”‚  â”‚ â”Œâ”€ Subnet â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚           â”‚           â”‚  â”‚ â”Œâ”€ Subnet â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
    â”‚  â”‚ â”‚ dev-subnet      â”‚ â”‚ â”‚           â”‚           â”‚  â”‚ â”‚ hml-subnet      â”‚ â”‚ â”‚
    â”‚  â”‚ â”‚ 10.100.1.0/24  â”‚ â”‚ â”‚           â”‚           â”‚  â”‚ â”‚ 10.200.1.0/24  â”‚ â”‚ â”‚
    â”‚  â”‚ â”‚                â”‚ â”‚ â”‚           â”‚           â”‚  â”‚ â”‚                â”‚ â”‚ â”‚
    â”‚  â”‚ â”‚ ğŸ›¡ï¸  NSG:       â”‚ â”‚ â”‚           â”‚           â”‚  â”‚ â”‚ ğŸ›¡ï¸  NSG:       â”‚ â”‚ â”‚
    â”‚  â”‚ â”‚ dev-nsg-iso    â”‚ â”‚ â”‚           â”‚           â”‚  â”‚ â”‚ hml-nsg-iso    â”‚ â”‚ â”‚
    â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚           â”‚           â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                         â”‚           â”‚           â”‚                         â”‚
    â”‚  ğŸ—„ï¸  SQL Database       â”‚           â”‚           â”‚  ğŸ—„ï¸  SQL Database       â”‚
    â”‚  â”œâ”€ Server: dev-sqlsrv  â”‚           â”‚           â”‚  â”œâ”€ Server: hml-sqlsrv  â”‚
    â”‚  â”œâ”€ DB: dev-sqldb       â”‚           â”‚           â”‚  â”œâ”€ DB: hml-sqldb       â”‚
    â”‚  â”œâ”€ SKU: Basic (5 DTU)  â”‚           â”‚           â”‚  â”œâ”€ SKU: S0 (10 DTU)    â”‚
    â”‚  â””â”€ Cost: ~/mÃªs       â”‚           â”‚           â”‚  â””â”€ Cost: ~/mÃªs      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
    ğŸ”’ REGRAS DE SEGURANÃ‡A DEV:            â”‚            ğŸ”’ REGRAS DE SEGURANÃ‡A HML:
    âœ… HTTPS (443) - Interno apenas        â”‚            âœ… HTTPS (443) - Interno apenas  
    âœ… SQL (1433) - Subnet apenas          â”‚            âœ… SQL (1433) - Subnet apenas
    âŒ Negar outros ambientes              â”‚            âœ… Testing (8080) - Interno
                                           â”‚            âŒ Negar outros ambientes

    ğŸ“Š RESUMO DE CUSTOS:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ’° DEV: ~/mÃªs  â”‚  ğŸ’° HOMOLOG: ~/mÃªs  â”‚  ğŸ¯ TOTAL: ~/mÃªs        â”‚
    â”‚  ğŸ“‰ ECONOMIA: 94% vs configuraÃ§Ã£o anterior (~/mÃªs â†’ ~/mÃªs)          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ğŸ—ï¸ CARACTERÃSTICAS DA ARQUITETURA:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ” Isolamento Completo:  Redes separadas sem comunicaÃ§Ã£o entre ambientes  â”‚
    â”‚  ğŸŒ Ranges Dedicados:     DEV (10.100.x.x) vs HOMOLOG (10.200.x.x)       â”‚
    â”‚  ğŸ›¡ï¸  SeguranÃ§a por Camadas: NSGs + Firewall rules + Network isolation     â”‚
    â”‚  ğŸ“¦ Estado Separado:      dev/terraform.tfstate vs homolog/terraform.tfstateâ”‚
    â”‚  ğŸ’° OtimizaÃ§Ã£o de Custos: SKUs mÃ­nimos adequados para cada ambiente        â”‚
    â”‚  ğŸ”„ CI/CD Ready:          Service Principal + Remote State                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`

ğŸš€ **PRÃ“XIMOS PASSOS:**
1. Importar 'Arquitetura-Redes-Isoladas.drawio' no draw.io
2. Aplicar configuraÃ§Ãµes: 	erraform apply em cada ambiente
3. Verificar isolamento de rede entre ambientes
4. Monitorar custos via Azure Cost Management

